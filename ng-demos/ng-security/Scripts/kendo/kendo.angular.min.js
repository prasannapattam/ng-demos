/**
 * Copyright 2014 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e,t,n){"use strict";function i(e){var t=M;try{return M=function(e){return e()},e()}finally{M=t}}function o(e,i,o,a){i[o]=t.copy(e.$eval(a)),i[o]===n&&a.match(/^\w*$/)&&V.warn(o+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+a+"'?")}function a(i,a,l,u,c){function s(){var n,s,f,v,m,k,g,h,b;return l.kRebind&&(n=e(e(a)[0].cloneNode(!0))),s=u.replace(/^kendo/,""),f=t.extend({},l.defaultOptions,i.$eval(l.kOptions||l.options)),(v=e(a)[u])?(m=v.widget.prototype.options,k=v.widget.prototype.events,e.each(l,function(e,t){var n,a,r,l;"source"!==e&&"kDataSource"!==e&&(n="data"+e.charAt(0).toUpperCase()+e.slice(1),0===e.indexOf("on")&&(a=e.replace(/^on./,function(e){return e.charAt(2).toLowerCase()}),k.indexOf(a)>-1&&(f[a]=t)),m.hasOwnProperty(n)?o(i,f,n,t):m.hasOwnProperty(e)&&!L[e]?o(i,f,e,t):x[e]||(r=e.match(/^k(On)?([A-Z].*)/),r&&(l=r[2].charAt(0).toLowerCase()+r[2].slice(1),r[1]&&"kOnLabel"!=e?f[l]=t:("kOnLabel"==e&&(l="onLabel"),o(i,f,l,t)))))}),g=l.kDataSource||l.source,g&&(f.dataSource=S(i,a,s,g)),f.$angular=[i],a.is("select")&&!function(t){if(t.length>0){var n=e(t[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove()}}(a[0].options),h=v.call(a,T=f).data(u),r(h,i,l,u,c),i.$emit("kendoWidgetCreated",h),b=d(i,h),l.kRebind&&p(h,i,a,n,l.kRebind,b),h):(window.console.error("Could not find: "+u),null)}var f,v=l.kNgDelay,m=i.$eval(v);return v&&!m?(f=i.$watch(v,function(e,t){e!==t&&(f(),a.removeAttr(l.$attr.kNgDelay),v=null,M(s))}),n):s()}function r(e,t,n,i,o){if(n[o]){var a=$(n[o]).assign;if(!a)throw Error(o+" attribute used but expression in it is not assignable: "+n[i]);a(t,e)}}function l(e){return/checkbox|radio/i.test(e.attr("type"))?e.prop("checked"):e.val()}function u(e){return A.test(e[0].tagName)}function c(e,t,i,o,a){var r,c,s,d;e.value&&(r=u(i)?function(){return l(i)}:function(){return e.value()},o.$render=function(){var t=o.$viewValue;t===n&&(t=o.$modelValue),setTimeout(function(){e&&e.value(t)},0)},c=!1,u(i)&&i.on("change",function(){c=!0}),s=function(e){return function(){var n;c||(c=!1,e&&a&&(n=a.$pristine),o.$setViewValue(r()),e&&(o.$setPristine(),n&&a.$setPristine()),k(t))}},e.first("change",s(!1)),e.first("dataBound",s(!0)),d=r(),d!=o.$viewValue&&(o.$isEmpty(o.$viewValue)?null!=d&&""!==d&&d!=o.$viewValue&&o.$setViewValue(d):e.value(o.$viewValue)),o.$setPristine())}function s(e,t,i){var o,a,r;return"function"!=typeof e.value?(V.warn("k-ng-model specified on a widget that does not have the value() method: "+e.options.name),n):(o=$(i),a=o.assign,r=!1,e.$angular_setLogicValue(o(t)),t.$watch(i,function(t,i){t===n&&(t=null),r||t!==i&&e.$angular_setLogicValue(t)}),e.first("change",function(){r=!0,t.$apply(function(){a(t,e.$angular_getLogicValue())}),r=!1}),n)}function d(e,t){var n=e.$on("$destroy",function(){n(),t&&(t.element&&(t=m(t.element),t&&t.destroy()),t=null)});return n}function f(t,n){function i(){r.disconnect()}function o(){r.observe(e(n)[0],{attributes:!0})}var a,r;window.MutationObserver&&t.wrapper&&(a=[].slice.call(e(n)[0].classList),r=new MutationObserver(function(n){i(),t&&(n.forEach(function(n){var i,o=e(t.wrapper)[0];switch(n.attributeName){case"class":i=[].slice.call(n.target.classList),i.forEach(function(e){a.indexOf(e)<0&&(o.classList.add(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(e))}),a.forEach(function(e){i.indexOf(e)<0&&(o.classList.remove(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(e))}),a=i;break;case"disabled":"function"==typeof t.enable&&t.enable(!e(n.target).attr("disabled"));break;case"readonly":"function"==typeof t.readonly&&t.readonly(!!e(n.target).attr("readonly"))}}),o())}),o(),t.first("destroy",i))}function p(t,n,i,o,a,r){var l=n.$watch(a,function(a,u){var c,s,d;a!==u&&(l(),c=e(t.wrapper)[0],s=e(t.element)[0],d=i.injector().get("$compile"),t.destroy(),r&&r(),t=null,c&&s&&(c.parentNode.replaceChild(s,c),e(i).replaceWith(o)),d(o)(n))},!0);k(n)}function v(e,n){function i(e,t){b.directive(e,["directiveFactory",function(n){return n.create(t,e)}])}var o,a,r,l,u=n?"Mobile":"";u+=e.fn.options.name,o=u,a="kendo"+u.charAt(0)+u.substr(1).toLowerCase(),u="kendo"+u,r=u.replace(/([A-Z])/g,"-$1"),-1==O.indexOf(u.replace("kendo",""))&&(l=u===a?[u]:[u,a],t.forEach(l,function(e){b.directive(e,function(){return{restrict:"E",replace:!0,template:function(e){var t=_[o]||"div";return"<"+t+" "+r+">"+e.html()+"</"+t+">"}}})})),E.indexOf(u.replace("kendo",""))>-1||(i(u,u),a!=u&&i(a,u))}function m(t){return t=e(t),kendo.widgetInstance(t,kendo.ui)||kendo.widgetInstance(t,kendo.mobile.ui)||kendo.widgetInstance(t,kendo.dataviz.ui)}function k(e,t){var n=e.$root||e,i=/^\$(digest|apply)$/.test(n.$$phase);t?i?t():n.$apply(t):i||n.$digest()}function g(t,n){t.$destroy(),n&&e(n).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function h(n,i,o){var a,r,l;if(e.isArray(n))return t.forEach(n,function(e){h(e,i,o)});if("string"==typeof n){for(a=n.split("."),r=kendo;r&&a.length>0;)r=r[a.shift()];if(!r)return P.push([n,i,o]),!1;n=r.prototype}return l=n[i],n[i]=function(){var e=this,t=arguments;return o.apply({self:e,next:function(){return l.apply(e,arguments.length>0?arguments:t)}},t)},!0}var b,w,$,M,y,V,T,S,x,L,A,_,O,E,P,D;t&&(b=t.module("kendo.directives",[]),w=t.injector(["ng"]),$=w.get("$parse"),M=w.get("$timeout"),V=w.get("$log"),S=function(){var e={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"},t=function(e,t){return"$PLAIN"==t?e:kendo.data[t].create(e)};return function(n,i,o,a){var r=e[o]||"DataSource",l=t(n.$eval(a),r);return n.$watch(a,function(e,n){var o,a;e!==n&&(o=t(e,r),a=m(i),a&&"function"==typeof a.setDataSource&&a.setDataSource(o))}),l}}(),x={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},L={name:!0,title:!0,style:!0},A=/^(input|select|textarea)$/i,b.factory("directiveFactory",["$compile",function(t){var n,i=0,o=!1;return y=t,n=function(t,n){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(e,t){this.template=function(e,n){t[e]=kendo.stringify(n)}}],link:function(r,l,u,d){var p=d[0],v=d[1],m=e(l),k=t.replace(/([A-Z])/g,"-$1"),g="hidden"!==m.css("visibility");m.attr(k,m.attr("data-"+k)),m[0].removeAttribute("data-"+k),g&&m.css("visibility","hidden"),++i,M(function(){g&&m.css("visibility","");var d=a(r,l,u,t,n);d&&(p&&c(d,r,l,p,v),u.kNgModel&&s(d,r,u.kNgModel),f(d,l),--i,0===i&&(o||(o=!0,r.$emit("kendoRendered"),e("form").each(function(){var t=e(this).controller("form");t&&t.$setPristine()}))))})}}},{create:n}}]),_={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},O=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],E=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"],t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView"],function(e){E.push(e),e="kendo"+e,b.directive(e,function(){return{restrict:"A",link:function(t,n,i){a(t,n,i,e,e)}}})}),function(){function e(e){return function(n){t.forEach(n,function(t){t.fn&&t.fn.options&&t.fn.options.name&&/^[A-Z]/.test(t.fn.options.name)&&v(t,e)})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],e(!1)),t.forEach([kendo.mobile&&kendo.mobile.ui],e(!0))}(),P=[],h(kendo.ui,"plugin",function(t,n,i){this.next(),P=e.grep(P,function(e){return!h.apply(null,e)}),v(t,"Mobile"==i)}),h(["ui.Widget","mobile.ui.Widget"],"angular",function(o,a){var r,l=this.self;return"init"==o?(!a&&T&&(a=T),T=null,a&&a.$angular&&(l.$angular_scope=a.$angular[0],l.$angular_init(l.element,a)),n):(r=l.$angular_scope,r&&i(function(){var i,u,c=a(),s=c.elements,d=c.data;if(s.length>0)switch(o){case"cleanup":t.forEach(s,function(e){var n=t.element(e).scope();n&&n!==r&&n.$$kendoScope&&g(n,e)});break;case"compile":i=l.element.injector(),u=i?i.get("$compile"):y,t.forEach(s,function(i,o){var a,l;c.scopeFrom?a=t.element(c.scopeFrom).scope():(l=d&&d[o],l!==n&&(a=e.extend(r.$new(),l),a.$$kendoScope=!0)),u(i)(a||r)}),k(r)}}),n)}),h("ui.Widget","$angular_getLogicValue",function(){return this.self.value()}),h("ui.Widget","$angular_setLogicValue",function(e){this.self.value(e)}),h("ui.Select","$angular_getLogicValue",function(){var e=this.self.dataItem();return e?this.self.options.valuePrimitive?e[this.self.options.dataValueField]:e.toJSON():null}),h("ui.Select","$angular_setLogicValue",function(e){var t=this.self,n=t.options,i=n.dataValueField;i&&!n.valuePrimitive&&(e=null!=e?e[n.dataValueField||n.dataTextField]:null),t.value(e)}),h("ui.MultiSelect","$angular_getLogicValue",function(){var t=this.self.dataItems(),n=this.self.options.dataValueField;return n&&this.self.options.valuePrimitive&&(t=e.map(t,function(e){return e[n]})),t}),h("ui.MultiSelect","$angular_setLogicValue",function(t){null==t&&(t=[]);var n=this.self,i=n.options.dataValueField;i&&!n.options.valuePrimitive&&(t=e.map(t,function(e){return e[i]})),n.value(t)}),h("ui.AutoComplete","$angular_getLogicValue",function(){var e,t,n,i,o,a=this.self.options,r=this.self.value().split(a.separator),l=a.valuePrimitive,u=this.self.dataSource.data(),c=[];for(e=0,t=u.length;t>e;e++)for(n=u[e],i=a.dataTextField?n[a.dataTextField]:n,o=0;r.length>o;o++)if(i===r[o]){c.push(l?i:n.toJSON());break}return c}),h("ui.AutoComplete","$angular_setLogicValue",function(t){null==t&&(t=[]);var n=this.self,i=n.options.dataTextField;i&&!n.options.valuePrimitive&&(t=e.map(t,function(e){return e[i]})),n.value(t)}),h("ui.Widget","$angular_init",function(t,n){var i,o,a,r,l=this.self;if(n&&!e.isArray(n))for(i=l.$angular_scope,o=l.events.length;--o>=0;)a=l.events[o],r=n[a],r&&"string"==typeof r&&(n[a]=l.$angular_makeEventHandler(a,i,r))}),h("ui.Widget","$angular_makeEventHandler",function(e,t,n){return n=$(n),function(e){k(t,function(){n(t,{kendoEvent:e})})}}),h(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(e,n,i){return"change"!=e?this.next():(i=$(i),function(e){var o,a,r,l,u,c,s,d,f,p=e.sender,v=p.options,m={kendoEvent:e};for(t.isString(v.selectable)&&(o=-1!==v.selectable.indexOf("cell"),a=-1!==v.selectable.indexOf("multiple")),r=m.selected=this.select(),l=m.data=[],u=m.columns=[],s=0;r.length>s;s++)d=o?r[s].parentNode:r[s],f=p.dataItem(d),o?(t.element.inArray(f,l)<0&&l.push(f),c=t.element(r[s]).index(),t.element.inArray(c,u)<0&&u.push(c)):l.push(f);a||(m.dataItem=m.data=l[0],m.selected=r[0]),k(n,function(){i(n,m)})})}),h("ui.Grid","$angular_init",function(i,o){if(this.next(),o.columns){var a=e.extend({},kendo.Template,o.templateSettings);t.forEach(o.columns,function(e){!e.field||e.template||e.format||e.values||e.encoded!==n&&!e.encoded||(e.template="<span ng-bind='"+kendo.expr(e.field,"dataItem")+"'>#: "+kendo.expr(e.field,a.paramName)+"#</span>")})}}),h("mobile.ui.ButtonGroup","value",function(e){var t=this.self;return null!=e&&(t.select(t.element.children("li.km-button").eq(e)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex}),h("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}),b.directive("kendoMobileApplication",function(){return{terminal:!0,link:function(e,t,n){a(e,t,n,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=a(e,t,n,"kendoMobileView","kendoMobileView")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=a(e,t,n,"kendoMobileDrawer","kendoMobileDrawer")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=a(e,t,n,"kendoMobileModalView","kendoMobileModalView")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=a(e,t,n,"kendoMobileSplitView","kendoMobileSplitView")},post:function(e,t,n){n._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,a(e,t,n,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(e,t,n){a(e,t,n,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(t,n,i){n.find("a[k-action]").each(function(){e(this).attr("data-"+kendo.ns+"action",e(this).attr("k-action"))}),a(t,n,i,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,a(e,t,n,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function(e){return"<span data-"+kendo.ns+"role='view-title'>"+e.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(e,t){t.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(e,t){t.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function(e){return"<div data-"+kendo.ns+"role='page'>"+e.html()+"</div>"}}}),t.forEach(["align","icon","rel","transition","actionsheetContext"],function(e){var t="k"+e.slice(0,1).toUpperCase()+e.slice(1);b.directive(t,function(){return{restrict:"A",priority:2,link:function(n,i,o){i.attr(kendo.attr(kendo.toHyphens(e)),n.$eval(o[t]))}}})}),D={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]},function(){var e={};t.forEach(D,function(n,i){t.forEach(n,function(t){e[t]||(e[t]=[]),e[t].push("?^^kendo"+i)})}),t.forEach(e,function(e,t){var n="k"+t,i=kendo.toHyphens(n);b.directive(n,function(){return{restrict:"A",require:e,terminal:!0,compile:function(t,o){if(""===o[n]){t.removeAttr(i);var a=t[0].outerHTML;return function(o,r,l,u){for(var c;!c&&u.length;)c=u.shift();c?(c.template(n,a),t.remove()):V.warn(i+" without a matching parent widget found. It can be one of the following: "+e.join(", "))}}}}})})}())}(window.kendo.jQuery,window.angular),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});